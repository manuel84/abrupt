require_relative '../base_spec'

describe Abrupt::Transformation::Website::Complexity do
  it_should_behave_like 'convertable object' do
    let(:expected_values) do
      [{ contrast: { _1: { A_tag_With_Low_Contrast: '0',
                           TextNodes_With_Low_Contrast: '0',
                           paragrahps_with_too_long_lines: '0' } },
         vizweb: { numberOfLeaves: 8,
                   textArea: '0.0092196994357639',
                   numberOfTextGroups: 1,
                   visualComplexity: 0.8718767434006,
                   numberOfImageAreas: 0,
                   hue: 0.68489074707031,
                   horizontalSymmetry: '1',
                   horizontalBalance: 'null',
                   colorfulness: 12.677470639094,
                   nontextArea: 0.0015106201171875 },
         differenceMatrix: [{ matrix: [0.0,
                                       354.49964739052,
                                       188.22858443924,
                                       271.36322521668,
                                       147.80392416983,
                                       215.93980642762,
                                       325.23376208506,
                                       354.49964739052,
                                       0.0,
                                       166.27687752661,
                                       83.138438763306,
                                       206.69784711022,
                                       138.56406460551,
                                       57.0,
                                       188.22858443924,
                                       166.27687752661,
                                       0.0,
                                       83.138438763306,
                                       40.447496832313,
                                       27.712812921102,
                                       141.25508840392,
                                       271.36322521668,
                                       83.138438763306,
                                       83.138438763306,
                                       0.0,
                                       123.56374872915,
                                       55.425625842204,
                                       68.47627326308,
                                       147.80392416983,
                                       206.69784711022,
                                       40.447496832313,
                                       123.56374872915,
                                       0.0,
                                       68.146900149603,
                                       180.33579788827,
                                       215.93980642762,
                                       138.56406460551,
                                       27.712812921102,
                                       55.425625842204,
                                       68.146900149603,
                                       0.0,
                                       115.45128842936,
                                       325.23376208506,
                                       57.0,
                                       141.25508840392,
                                       68.47627326308,
                                       180.33579788827,
                                       115.45128842936,
                                       0.0],
                              palette: [210.0,
                                        209.0,
                                        207.0,
                                        4.0,
                                        4.0,
                                        4.0,
                                        100.0,
                                        100.0,
                                        100.0,
                                        52.0,
                                        52.0,
                                        52.0,
                                        124.0,
                                        124.0,
                                        122.0,
                                        84.0,
                                        84.0,
                                        84.0,
                                        4.0,
                                        4.0,
                                        61.0] }],
         vicram: { complexity: 1.1315 },
         ratios: { pageSize: { pageSize_in_pixel_squared: 1_106_476,
                               pageWidth_in_pixel: 602,
                               pageHeight_in_pixel: 1838 },
                   img_Tag: { img_Area_in_pixel_squared: 756,
                              img_document_tag_percentage: 0.068325024672926,
                              img_document_tag_ratio: 1463.5925925926 } } },
       { contrast: { _1: { A_tag_With_Low_Contrast: '0',
                           TextNodes_With_Low_Contrast: '0',
                           paragrahps_with_too_long_lines: '0' } },
         vizweb: { numberOfLeaves: 5,
                   textArea: '0',
                   numberOfTextGroups: 0,
                   visualComplexity: 0.81083171871652,
                   numberOfImageAreas: 0,
                   hue: 0.73760986328125,
                   horizontalSymmetry: '1',
                   horizontalBalance: 'null',
                   colorfulness: 13.194878004589,
                   nontextArea: 0.0023939344618056 },
         differenceMatrix: [{ matrix: [0.0,
                                       40.706264874095,
                                       74.0,
                                       27.712812921102,
                                       18.0,
                                       41.569219381653,
                                       13.856406460551,
                                       40.706264874095,
                                       0.0,
                                       40.706264874095,
                                       21.748563170932,
                                       25.475478405714,
                                       21.377558326432,
                                       29.546573405388,
                                       74.0,
                                       40.706264874095,
                                       0.0,
                                       62.257529665094,
                                       56.0,
                                       60.431779718953,
                                       66.962676171133,
                                       27.712812921102,
                                       21.748563170932,
                                       62.257529665094,
                                       0.0,
                                       22.715633383201,
                                       13.856406460551,
                                       13.856406460551,
                                       18.0,
                                       25.475478405714,
                                       56.0,
                                       22.715633383201,
                                       0.0,
                                       34.467375879228,
                                       15.099668870541,
                                       41.569219381653,
                                       21.377558326432,
                                       60.431779718953,
                                       13.856406460551,
                                       34.467375879228,
                                       0.0,
                                       27.712812921102,
                                       13.856406460551,
                                       29.546573405388,
                                       66.962676171133,
                                       13.856406460551,
                                       15.099668870541,
                                       27.712812921102,
                                       0.0],
                              palette: [4.0,
                                        4.0,
                                        4.0,
                                        16.0,
                                        16.0,
                                        41.0,
                                        4.0,
                                        4.0,
                                        78.0,
                                        20.0,
                                        20.0,
                                        20.0,
                                        4.0,
                                        4.0,
                                        22.0,
                                        28.0,
                                        28.0,
                                        28.0,
                                        12.0,
                                        12.0,
                                        12.0] }],
         vicram: { complexity: 0.3077 },
         ratios: { pageSize: { pageSize_in_pixel_squared: 175_200,
                               pageWidth_in_pixel: 400,
                               pageHeight_in_pixel: 438 },
                   img_Tag: { img_Area_in_pixel_squared: 19_194,
                              img_document_tag_percentage: 10.955479452055,
                              img_document_tag_ratio: 9.1278524538918 } } }]
    end
  end
end
